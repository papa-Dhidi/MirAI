<!-- 
    Sidebar Logic with Alpine.js:
    - :class="{'...': sidebarOpen}" -> Mengubah class berdasarkan state `sidebarOpen`
    - x-show="sidebarOpen" -> Menampilkan/menyembunyikan elemen
-->
<aside 
    class="flex-shrink-0 bg-slate-800/60 backdrop-blur-lg border-r border-slate-700/50 transition-all duration-300 z-20"
    :class="{'w-64': sidebarOpen && !isMobile, 'w-20': !sidebarOpen && !isMobile, 'fixed h-full w-64 z-30': isMobile, '-translate-x-full': isMobile && !sidebarOpen}">

    <div class="flex flex-col h-full">
        <!-- Logo -->
        <div class="h-16 flex items-center justify-center border-b border-slate-700/50 flex-shrink-0">
            <a href="{% url 'dashboard:home' %}" class="flex items-center space-x-2 overflow-hidden">
                <svg class="h-8 w-8 text-indigo-400 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707.707M12 21v-1m0-16a9 9 0 110 18 9 9 0 010-18z"></path></svg>
                <div class="text-xl font-bold text-white transition-opacity duration-200" :class="{'opacity-100': sidebarOpen, 'opacity-0': !sidebarOpen && !isMobile}">
                    Mir<span class="text-indigo-400">AI</span>
                </div>
            </a>
        </div>

        <!-- Navigation Menu -->
        <nav class="flex-1 px-2 py-4">
            <ul class="menu text-base space-y-2">
                <li>
                    <a href="{% url 'dashboard:home' %}" class="active:bg-indigo-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
                        <span :class="{'hidden': !sidebarOpen && !isMobile}">Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="{% url 'chat:page' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>
                        <span :class="{'hidden': !sidebarOpen && !isMobile}">Chat Advisor</span>
                    </a>
                </li>
                <li>
                    <a href="{% url 'movies:list' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                        <span :class="{'hidden': !sidebarOpen && !isMobile}">Discover</span>
                    </a>
                </li>
                 <li>
                    <a href="{% url 'dashboard:watchlist' %}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        <span :class="{'hidden': !sidebarOpen && !isMobile}">Watchlist</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <!-- Sidebar Toggle Button -->
        <div class="px-2 py-4 border-t border-slate-700/50">
             <button @click="sidebarOpen = !sidebarOpen" class="btn btn-ghost w-full justify-start hidden md:flex">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
                <span :class="{'hidden': !sidebarOpen}">Collapse</span>
            </button>
        </div>
    </div>
</aside>
